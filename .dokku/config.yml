# ═══════════════════════════════════════════════════════════════════════════════
# Dokku App Configuration - Post-Prompt Viewer
# ═══════════════════════════════════════════════════════════════════════════════
#
# Configuration for Post-Prompt Viewer Dokku deployment.
# This is a static Vite application served via nginx buildpack.
#
# ═══════════════════════════════════════════════════════════════════════════════

# ─────────────────────────────────────────────────────────────────────────────
# Resource Limits
# ─────────────────────────────────────────────────────────────────────────────
# Static site needs minimal resources
resources:
  memory: 128m
  cpu: 0.5

# ─────────────────────────────────────────────────────────────────────────────
# Health Check
# ─────────────────────────────────────────────────────────────────────────────
# Path that returns 200 OK when app is healthy
healthcheck:
  path: /
  timeout: 10
  attempts: 3

# ─────────────────────────────────────────────────────────────────────────────
# Scaling
# ─────────────────────────────────────────────────────────────────────────────
# Number of web workers
scale:
  web: 1

# ─────────────────────────────────────────────────────────────────────────────
# Custom Domains
# ─────────────────────────────────────────────────────────────────────────────
custom_domains:
  - postprompt.signalwire.me

# ─────────────────────────────────────────────────────────────────────────────
# Environment-Specific Overrides
# ─────────────────────────────────────────────────────────────────────────────
environments:
  production:
    resources:
      memory: 256m
      cpu: 1
    scale:
      web: 1

  staging:
    resources:
      memory: 128m
      cpu: 0.5

  preview:
    resources:
      memory: 128m
      cpu: 0.5
